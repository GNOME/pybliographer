  <chapter>
    <title>L'interfaccia grafica</title>
    
    <para>L'iterfaccia grafica utente è chiamata &pyc;. Fornisce un semplice
accesso alle più importanti e comuni caratteristiche del motore sottostante,
&pyb;   e ti permette la ricerca, l'ordinamento e la modifica di voci 
bibliografiche.</para>
    
    <sect1>
      <title>L'apertura e la creazione di un database</title>
      
      <para>L'apertura o la creazione di un database sono due operazioni simili.
  Nel menu <guimenu>File</guimenu>, seleziona o <menuchoice>
	  <guimenu>File</guimenu><guimenuitem>Apri</guimenuitem> 
	</menuchoice>  o <menuchoice>
	  <guimenu>File</guimenu><guimenuitem>Nuovo</guimenuitem>
	</menuchoice>.</para>
      
      <Figure id="figopen">
	<Title>L'apertura di un database</Title> 
	<Graphic FileRef="open.png"></Graphic>
      </Figure>
      
      <para>Apparirà una finestra di dialogo per la selezione del file (vedi <xref linkend="figopen">) 
e ti lascerà selezionare un nome di file o inserire un URL. Può anche essere
selezionato il tipo di database. Nel caso di un nuovo database, è obbligatorio
selezionare un tipo, dal momento che durante l'apertura di un database
esistente, il tipo può essere indovinato se selezioni <guibutton>- Auto
-</guibutton>.</para>
      
    </sect1>
    
    <sect1>
      <title>Navigare nelle voci</title>
      
      <para>Una volta aperto un database, la finestra principale (vedi
<xref linkend="figmain">)  mostra una lista di tutte le voci nella parte 
più alta della finestra.  Il cliccare su una voce mostra l'intero contenuto
nella parte più bassa della finestra.  E` anche possibile usare le frecce
per navigare nella lista superiore,  e premere
<keysym>Invio</keysym> mostra l'intera voce.</para>
      
      <Figure id="figmain">
	<Title>La finestra principale</Title> 
	<Graphic FileRef="main.png"></Graphic>
      </Figure>
      
      <para>Cliccando col tasto destro del mouse nella lista si apre un menu
  contestuale. Con questo menu tu puoi:</para>
      
      <itemizedlist>
	<listitem>
	  <para>aggiungere una nuova voce</para>
	</listitem>
	<listitem>
	  <para>eliminare la voce attualmente selezionata</para>
	</listitem>
	<listitem>
	  <para>modificare la voce attualmente selezionata</para>
	</listitem>
      </itemizedlist>
      
      <para>Notare che alcune opzioni di questi menu possono essere disabilitate
  per un dato database o una data voce, significa che l'azione corrispondente
  non può essere compiuta. (per esempio, non sarai in grado di modificare un
  database di sola lettura).</para>
      
      <para>cliccando sui titoli di colonna della lista, ordinerai le voci
  in accordo al campo corrispondente.</para>
    </sect1>
    
    <sect1>
      <title>Ricerca</title>
      
      <para>&pyc; offre un meccanismo di ricerca abbastanza potente. Per aprire
  la finestra di dialogo di ricerca, clicca su <menuchoice>
	  <guimenu>Modifica</guimenu>
	  <guimenuitem>Ricerca</guimenuitem>
	</menuchoice> nel menu. 

  La finestra di dialogo che appare (vedi <xref linkend="figsearch">) mostra 
  in alto un modulo di ricerca.</para>
      
      <Figure id="figsearch">
	<Title>La finestra di dialogo Ricerca</Title> 
	<Graphic FileRef="search.png"></Graphic>
      </Figure>
      
      <sect2>
	<title>Ricerche semplici</title>
	
	<para>Con la ricerca semplice, puoi selezionare il campo che sarà
    cercato e puoi specificare un'espressione regolare da eguagliare. 
    <guibutton>- All -</guibutton>  significa che tutti i campi mostrati
    nel combo box saranno ricercati.</para>

      </sect2>
      
      <sect2>
	<title>Ricerche avanzate</title>
	
	<para>Una ricerca avanzata è un'espressione che assomiglia a:</para>
	
	<programlisting>has('author',name') | -has('title','test')</programlisting>
	
	<para> Una tale espressione significa: seleziona le voci dove il
    campo <emphasis>author</emphasis> eguaglia
    <emphasis>name</emphasis>,  o  (symbol <symbol>|</symbol>)  dove
    il campo <emphasis>title</emphasis> <emphasis>non</emphasis>
    eguaglia <emphasis>test</emphasis>.  Il booleano <symbol>and</symbol>
    è <symbol>&</symbol>.</para>
	
	<para>Ci sono altri comandi disponibili per questo tipo di
	ricerca:</para>
	
	<itemizedlist>
	  <listitem>
	    <para><command>has_key(<varname>nomechiave</varname>)</command>
	    ricerca solo un nome chiave.</para>
	  </listitem>
	  <listitem>
	    <para><command>has_type(<varname>tipo</varname>)</command>
	    ricerca le voci di un dato tipo.</para>
	  </listitem>
	  <listitem>
	    <para><command>any_has(<varname>valore</varname>)</command>
	    ricerca un dato valore in tutti i campi di una voce.</para>
	  </listitem>
	  <listitem>
	    <para><command>before(<varname>field</varname>,
	    <varname>year</varname>, <varname>month</varname>,
	    <varname>day</varname>)</command> ricerca le voci dove
	    il campo della data è anteriore a una data 
	    specificata.</para>
	  </listitem>
	  <listitem>
	    <para><command>after(<varname>field</varname>,
	    <varname>year</varname>, <varname>month</varname>,
	    <varname>day</varname>)</command>ricerca le voci dove
	    il campo della data è posteriore a una data
	    specificata.</para>
	  </listitem>
	</itemizedlist>
  </sect2>
      
      <sect2>
	<title>Ricerche gerarchiche</title>
	
	<para>Dopo una ricerca, solo le voci selezionate sono mostrate nella
    finestra principale. Diventa conveniente selezionare uno specifico autore,
    e poi scorrere, per esempio, le sue pubblicazioni.</para>
	
	<para> In aggiunta, i risultati di tutte le ricerche sono tenute
    in un albero che si trova sotto il modulo di ricerca. Quindi, una nuova
    ricerca può essere il raffinamento di una precedente. Se selezioni la voce albero
    corrispondente per esempio a tutti gli articoli scritti da un certo
    Nostradamus, sarai in grado di selezionare solo quelle in cui il titolo
    contiene la parola eclisse.</para>
	
	<para>Cliccando col tasto destro in questo albero appare un menu
    contestuale che ti permette di rimuovere le inutili ricerche.</para>
      </sect2>
      
    </sect1>
    
    <sect1>
      <title>Modifica</title>
      
      <Figure id="figedit">
	<Title>La finestra Modifica</Title> 
	<Graphic FileRef="edit.png"></Graphic>
      </Figure>
      
      <para>La finestra di modifica e` rappresentata    <xref
  linkend="figedit">  nel suo modulo completo.  In accordo al tipo di
  database, alcune sue parti possono mancare (per esempio, non tutti i
  tipi di database supportano i riferimenti incrociati).</para>

      <para>Per modificare le voci,  semplicemente  digitale, senza 
  considerare il formato usato per il database. Per esempio, con
  <productname>BibTeX</productname>, non aggiungere nessun <symbol>{</symbol>
  o  carattere speciale per influenzare il risultato, così saranno citate
  dal sistema.  Per i campi che richiedono nomi (come autore ed
  editore), usa il seguente formato: digita un nome per linea, nell'ordine
  <emphasis>cognome, lignaggio, nome</emphasis>.</para>

      <para>Le seguenti scorciatoie della tastiera sono disponibili durante
  la modifica (in aggiunta a quelle standard fornite da Gtk):</para>
      <itemizedlist>
	<listitem>
	  <para><keysym>Ctrl-TAB</keysym> per saltare al campo successivo</para>
	</listitem>
	<listitem>
	  <para><keysym>Shift-TAB</keysym> per saltare al campo precedente
	  field</para>
	</listitem>
	<listitem>
	  <para><keysym>Ctrl-Enter</keysym> per accettare le modifiche</para>
	</listitem>
	<listitem>
	  <para><keysym>Escape</keysym> per abbandonare la modifica</para>
	</listitem>
      </itemizedlist>

      <para>Per specificare un riferimento incrociato a un'altra voce,
  solleva appena la voce dalla lista principale al campo 
  <guilabel>Crossreference</guilabel>. Per rimuovere un riferimento incrociato,
  clicca sul bottone rosso sulla destra di questo campo.</para>

      <para>Per i database come BibTeX che forniscono una specifica sintassi
  (chiamata sintassi <emphasis>nativa</emphasis>), è possibile specificare
  direttamente un campo in questo formato. Clicca appena il bottone alla
  destra del campo e digita la voce nel suo formato nativo. Il colore del
  bottone indica se il campo è attualmente convertito con o senza
  perdita.  Per continuare l'esempio di BibTeX, se usi speciali comandi
  LaTeX come <command>\textbf</command>, una croce rossa indicherà che
  la conversione alla forma testuale è avvenuta con una perdita.
  Dopo puoi modificare il campo nel suo formato nativo se non vuoi perdere
  questa informazione aggiuntiva. </para>
      
    </sect1>

    <sect1>
      <title>Usare &pyc; con <productname>LyX</productname></title>
      
      <para>E` possibile usare direttamente &pyb; per inserire riferimenti
      bibliografici dentro LyX. Per far ciò, bisogna prima avviare
      LyX <emphasis>server</emphasis>. Nel file di configurazione
      <filename>~/.lyx/lyxrc</filename>, aggiungi la linea seguente prima
      di avviare LyX:</para>

      <programlisting>
\serverpipe "~/.lyx/lyxpipe"
</programlisting>

      <para>Poi,  in &pyc;,  è possibile selezionare una voce e inserire
      un riferimento dentro   LyX in esecuzione   semplicemente cliccando
      il bottone <guibutton>Inserisce</guibutton>, o selezionando la voce del menu
      <menuchoice><guimenu>Formato</guimenu><guimenuitem>Inserisce in LyX</guimenuitem></menuchoice>.</para>

      <para>Per il momento, è lavoro dell'utente assicurarsi che
      inserisca le voci corrispondenti al database attualmente usato.
      &pyc;  non tratta l'intero lavoro di generazione bibliografica,
      così che è necessario usare  <command>bibtex</command> come
      descritto nella documentazione di LyX.</para>
    </sect1>
  </chapter>
